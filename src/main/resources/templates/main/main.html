<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>메인페이지</title>
  <link rel="stylesheet"  th:href="@{/css/main/main.css}">
  <link rel="stylesheet"  th:href="@{/css/main/header.css}">
  <link rel="stylesheet"  th:href="@{/css/main/footer.css}">
  <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  <script defer th:src="@{/js/main/main.js}"></script>
</head>

<body>
  <div id='header' th:replace="~{main/header}"></div>
  <!-- 행사 -->
  <div class="mainFestival" >
    <div class="mainFestival-img">
      <a id="festivalLink"  target="_blank">
        <img id="festivalImg" alt="">
      </a> 
    </div>
    <div class="mainFestival-wrap">
      <li class="mainFestival-info" >
        <a  id="festivalTitleLink" target="_blank"><h2 id="festivalTitle"></h2></a>
        <span id="festivalDate"></span>
        <span id="festivalLocation" ></span>
      </li>
      <div class="mainFestival-btn">
        <span id="festivalCounter">01/06</span>
        <button id="prevBtn"><img src="../../img/place/placeDetail/prevBtn.png" alt=""></button>
        <button id="nextBtn" ><img src="../../img/place/placeDetail/nextBtn.png" alt=""></button>
      </div>
    </div>
  </div>
  
  <!-- main -->
  <main>
    <section>
      <div class="main-section-title">
        <h2>발자국이 무성한 곳</h2>
        <a href="../../html/template/templateSearch.html"><img src="../../img/main/goBtn.png" alt=""></a>
      </div>
      <div class="template-container">
        <div class="template-contents">
          <div class="template-container-img">
            <a href="../../html/template/templateDetail.html">
              <img src="../../img/main/templetSampleImg.png" alt=""></a>
            <div class="tp_saveimg">
              <img src="../../img/main/unsaved.png" alt="">
            </div>
          </div>
          <div>게시물 제목</div>
        </div>
      <div class="template-contents">
        <div class="template-container-img">
          <a href="../../html/template/templateDetail.html">
            <img src="../../img/main/templetSampleImg.png" alt="">
          </a>
          <div class="tp_saveimg">
            <img src="../../img/main/unsaved.png" alt="">
          </div>
        </div>
        <div>게시물 제목</div>
      </div>
      <div class="template-contents">
        <div class="template-container-img">
          <a href="../../html/template/templateDetail.html">
            <img src="../../img/main/templetSampleImg.png" alt="">
          </a>
          <div class="tp_saveimg">
            <img src="../../img/main/unsaved.png" alt="">
          </div>
        </div>
        <div>게시물 제목</div>
      </div>
    <div class="template-contents">
      <div class="template-container-img">
        <a href="../../html/template/templateDetail.html">
          <img src="../../img/main/templetSampleImg.png" alt="">
        </a>
        <div class="tp_saveimg">
          <img src="../../img/main/unsaved.png" alt="">
        </div>
      </div>
      <div>게시물 제목</div>
    </div>
    <div class="template-contents">
      <div class="template-container-img">
        <a href="../../html/template/templateDetail.html">
        <img src="../../img/main/templetSampleImg.png" alt="">
        </a>
        <div class="tp_saveimg">
          <img src="../../img/main/unsaved.png" alt="">
        </div>
      </div>
      <div>게시물 제목</div>
    </div>
    <div class="template-contents">
      <div class="template-container-img">
        <a href="../../html/template/templateDetail.html">
          <img src="../../img/main/templetSampleImg.png" alt="">
        </a>
        <div class="tp_saveimg">
          <img src="../../img/main/unsaved.png" alt="">
        </div>
      </div>
      <div>게시물 제목</div>
    </div>
     
      </div>
    </section>

    <section>
      <div class="main-section-title">
        <h2>너와 나의 여행 발자국</h2>
        <a href="../../html/journal/journalSearch.html"><img src="../../img/main/goBtn.png" alt=""></a>
      </div>
      <div class="checklist-container">
        <div class="check-list">
          <a href="../../html/journal/journalDetail.html">
            <div class="checklist-imgbox">
              <img src="../../img/mypage/더미사진.png" alt="썸네일이미지" class="checklist-img">
            </div>
          </a>
          <div class="checklist-check">
            <img src="../../img/main/unsaved.png" alt="">
          </div>
          <span class="checklist-name">게시물 제목</span> 
        </div>
        <div class="check-list">
          <a href="../../html/journal/journalDetail.html">
            <div class="checklist-imgbox">
              <img src="../../img/mypage/더미사진.png" alt="썸네일이미지" class="checklist-img">
            </div>
          </a>
          <div class="checklist-check">
            <img src="../../img/main/unsaved.png" alt="">
          </div>
          <span class="checklist-name">게시물 제목</span> 
        </div>
        <div class="check-list">
          <a href="../../html/journal/journalDetail.html">
            <div class="checklist-imgbox">
             <img src="../../img/mypage/더미사진.png" alt="썸네일이미지" class="checklist-img">
            </div>
          </a>
          <div class="checklist-check">
            <img src="../../img/main/unsaved.png" alt="">
          </div>
          <span class="checklist-name">게시물 제목</span> 
        </div>
      </div> 
    </section>

    <section>
      <div class="main-section-title">
        <h2>발자국이 머무는 곳</h2>
        <a th:href="@{/place/list}"><img src="../../img/main/goBtn.png" alt=""></a>
      </div>
      <ul class="section3-place">
        <li>
          <a th:href="@{/place/search(keyword='강남')}">
            <div class="img-container">
              <img src="../../img/place/sample_place.png" alt="이미지">
              <span class="overlay"></span>
              <span class="place-name">서울 강남</span>
            </div>
          </a>
        </li>
        <li>
          <a th:href="@{/place/search(keyword='강북')}">
            <div class="img-container">
              <img src="../../img/place/sample_place.png" alt="이미지">
              <span class="overlay"></span>
              <span class="place-name">서울 강북</span>
            </div>
          </a>
        </li>
        <li>
          <a th:href="@{/place/search(keyword='경기 남부')}">
            <div class="img-container">
              <img src="../../img/place/sample_place.png" alt="이미지">
              <span class="overlay"></span>
              <span class="place-name">경기 남부</span>
            </div>
          </a>
        </li>
        <li>
          <a th:href="@{/place/search(keyword='경기 남부')}">
            <div class="img-container">
              <img src="../../img/place/sample_place.png" alt="이미지">
              <span class="overlay"></span>
              <span class="place-name">경기 남부</span>
            </div>
          </a>
        </li>
        <li>
          <a th:href="@{/place/search(keyword='경기 남부')}">
            <div class="img-container">
              <img src="../../img/place/sample_place.png" alt="이미지">
              <span class="overlay"></span>
              <span class="place-name">경기 남부</span>
            </div>
          </a>
        </li>
        <li>
          <a th:href="@{/place/search(keyword='경기 남부')}">
            <div class="img-container">
              <img src="../../img/place/sample_place.png" alt="이미지">
              <span class="overlay"></span>
              <span class="place-name">경기 남부</span>
            </div>
          </a>
        </li>
        
      </ul>
    </section>
  </main>
  
  <script  th:inline="javascript">
    const festivals = /*[[${festivalList}]]*/ '[]';
    let currentFestivalIndex = 0; // 현재 페스티벌 인덱스

    // 페스티벌 정보 업데이트 함수
    function displayFestival(index) {
      const festival = festivals[index];
      document.getElementById('festivalLink').href = festival.orgLink;
      document.getElementById('festivalTitleLink').href = festival.orgLink;
      document.getElementById('festivalImg').src = festival.mainImg;
      document.getElementById('festivalTitle').innerText = festival.title;
      document.getElementById('festivalDate').innerText = festival.place;
      document.getElementById('festivalLocation').innerText = festival.date;

      // "다음" 버튼과 "이전" 버튼의 활성화 여부
      document.getElementById("nextBtn").disabled = currentFestivalIndex === festivals.length - 1;
      document.getElementById("prevBtn").disabled = currentFestivalIndex === 0;

      // 축제 카운트 표시 (현재 축제 번호/전체 축제 개수)
      document.getElementById("festivalCounter").innerText = `${currentFestivalIndex + 1}/${festivals.length}`;
    }

    // "다음" 버튼 클릭 시 다음 축제 표시
    function showNextFestival() {
      if (currentFestivalIndex < festivals.length - 1) {
        currentFestivalIndex++;
        displayFestival(currentFestivalIndex); // 현재 인덱스를 전달하여 축제 표시
      }
    }

    // "이전" 버튼 클릭 시 이전 축제 표시
    function showPreviousFestival() {
      if (currentFestivalIndex > 0) {
        currentFestivalIndex--;
        displayFestival(currentFestivalIndex); // 현재 인덱스를 전달하여 축제 표시
      }
    }


    displayFestival(currentFestivalIndex);

    // 이벤트 리스너 추가 (이전, 다음 버튼)
    document.getElementById('prevBtn').addEventListener('click', showPreviousFestival);
    document.getElementById('nextBtn').addEventListener('click', showNextFestival);

  </script>
  <div id="footer" th:replace="~{main/footer}"></div>
  

</body>

</html>

